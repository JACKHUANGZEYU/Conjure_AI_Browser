<Window x:Class="ConjureBrowser.App.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:cef="clr-namespace:CefSharp.Wpf;assembly=CefSharp.Wpf"
        mc:Ignorable="d"
        Title="Conjure Browser"
        Height="720"
        Width="1200">
    <DockPanel LastChildFill="True">
        <!-- Top toolbar -->
        <Border DockPanel.Dock="Top" Padding="6" Background="{DynamicResource {x:Static SystemColors.ControlBrushKey}}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <Button Grid.Column="0" Name="BackButton" Width="36" Margin="0,0,6,0" Content="â†" Click="Back_Click" />
                <Button Grid.Column="1" Name="ForwardButton" Width="36" Margin="0,0,6,0" Content="â†’" Click="Forward_Click" />
                <Button Grid.Column="2" Name="ReloadButton" Width="36" Margin="0,0,6,0" Content="âŸ³" Click="Reload_Click" />
                <Button Grid.Column="3" Width="36" Margin="0,0,6,0" Content="ðŸ " Click="Home_Click" />

                <TextBox Grid.Column="4"
                         Name="AddressBar"
                         Margin="0,0,6,0"
                         VerticalContentAlignment="Center"
                         KeyDown="AddressBar_KeyDown" />

                <Button Grid.Column="5" Width="64" Margin="0,0,6,0" Content="Go" Click="Go_Click" />

                <Button Grid.Column="6"
                        Name="BookmarksMenuButton"
                        Width="64"
                        Margin="0,0,6,0"
                        Content="â˜…â–¼"
                        ToolTip="Open bookmarks"
                        Click="BookmarksMenu_Click" />

                <ToggleButton Grid.Column="7"
                              Name="BookmarkButton"
                              Width="44"
                              Content="â˜†"
                              ToolTip="Bookmark this page"
                              Click="BookmarkButton_Click" />

                <ToggleButton Grid.Column="8"
                              Name="AiPanelToggle"
                              Width="52"
                              Content="AI"
                              IsChecked="True"
                              ToolTip="Show/hide AI panel"
                              Click="AiPanelToggle_Click" />
            </Grid>
        </Border>

        <!-- Main content -->
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition x:Name="AiColumn" Width="360" />
            </Grid.ColumnDefinitions>

            <cef:ChromiumWebBrowser x:Name="Browser" Grid.Column="0" />

            <Border Grid.Column="1"
                    BorderThickness="1,0,0,0"
                    BorderBrush="{DynamicResource {x:Static SystemColors.ControlDarkBrushKey}}">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Margin="10">
                        <TextBlock Text="AI Assistant" FontWeight="SemiBold" FontSize="14" />
                        <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                            <Button Content="Summarize" Margin="0,0,8,0" Click="Summarize_Click" />
                            <Button Content="Clear" Click="AiClear_Click" />
                        </StackPanel>

                        <DockPanel Margin="0,10,0,0">
                            <TextBox Name="AiQuestion"
                                     Height="28"
                                     VerticalContentAlignment="Center"
                                     KeyDown="AiQuestion_KeyDown" />
                            <Button Content="Ask" Width="64" Margin="8,0,0,0" Click="AiAsk_Click" />
                        </DockPanel>
                    </StackPanel>

                    <TextBox Grid.Row="1"
                             Name="AiOutput"
                             Margin="10"
                             AcceptsReturn="True"
                             TextWrapping="Wrap"
                             VerticalScrollBarVisibility="Auto"
                             IsReadOnly="True" />
                </Grid>
            </Border>
        </Grid>
    </DockPanel>
</Window>
